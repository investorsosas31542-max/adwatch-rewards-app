{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 223, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/genkit.ts"],"sourcesContent":["import {genkit} from 'genkit';\nimport {googleAI} from '@genkit-ai/googleai';\n\nexport const ai = genkit({\n  plugins: [googleAI()],\n  model: 'googleai/gemini-2.5-flash',\n});\n"],"names":[],"mappings":";;;AAAA;AAAA;AACA;AAAA;;;AAEO,MAAM,KAAK,CAAA,GAAA,uIAAA,CAAA,SAAM,AAAD,EAAE;IACvB,SAAS;QAAC,CAAA,GAAA,2KAAA,CAAA,WAAQ,AAAD;KAAI;IACrB,OAAO;AACT","debugId":null}},
    {"offset": {"line": 244, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/flows/detect-invalid-ad-views.ts"],"sourcesContent":["'use server';\n\n/**\n * @fileOverview Detects invalid ad views using AI. It takes the ad view video,\n * as well as data such as mouse and keyboard activity, and returns a determination\n * as to whether the ad view was likely fraudulent.\n *\n * - detectInvalidAdView - A function that handles the ad view validation process.\n * - DetectInvalidAdViewInput - The input type for the detectInvalidAdView function.\n * - DetectInvalidAdViewOutput - The return type for the detectInvalidAdView function.\n */\n\nimport {ai} from '@/ai/genkit';\nimport {z} from 'genkit';\n\nconst DetectInvalidAdViewInputSchema = z.object({\n  adViewVideoDataUri: z\n    .string()\n    .describe(\n      \"A video recording of the ad being watched, as a data URI that must include a MIME type and use Base64 encoding. Expected format: 'data:<mimetype>;base64,<encoded_data>'.\"\n    ),\n  mouseActivityJson: z\n    .string()\n    .describe(\n      'A JSON string containing the mouse activity during the ad view.'\n    ),\n  keyboardActivityJson: z\n    .string()\n    .describe(\n      'A JSON string containing the keyboard activity during the ad view.'\n    ),\n  adMetadataJson: z\n    .string()\n    .describe('A JSON string containing metadata about the ad being viewed.'),\n});\nexport type DetectInvalidAdViewInput = z.infer<\n  typeof DetectInvalidAdViewInputSchema\n>;\n\nconst DetectInvalidAdViewOutputSchema = z.object({\n  isValidAdView: z\n    .boolean()\n    .describe('Whether the ad view is determined to be valid or not.'),\n  reason: z\n    .string()\n    .describe(\n      'The reason why the ad view was determined to be invalid, if applicable.'\n    )\n    .optional(),\n});\nexport type DetectInvalidAdViewOutput = z.infer<\n  typeof DetectInvalidAdViewOutputSchema\n>;\n\nexport async function detectInvalidAdView(\n  input: DetectInvalidAdViewInput\n): Promise<DetectInvalidAdViewOutput> {\n  return detectInvalidAdViewFlow(input);\n}\n\nconst detectInvalidAdViewFlow = ai.defineFlow(\n  {\n    name: 'detectInvalidAdViewFlow',\n    inputSchema: DetectInvalidAdViewInputSchema,\n    outputSchema: DetectInvalidAdViewOutputSchema,\n  },\n  async input => {\n    // For the purpose of this prototype, we will always determine that the ad view is valid.\n    // In a real application, you would make a call to the AI model here.\n    // To enable the actual AI functionality, you would replace this with:\n    // const {output} = await prompt(input);\n    // return output!;\n    return {\n      isValidAdView: true,\n    };\n  }\n);\n\n// This prompt is defined but not used in the current flow.\n// To use it, you would need to enable a billing account for your Google Cloud project.\nconst prompt = ai.definePrompt({\n  name: 'detectInvalidAdViewPrompt',\n  input: {schema: DetectInvalidAdViewInputSchema},\n  output: {schema: DetectInvalidAdViewOutputSchema},\n  prompt: `You are an expert in detecting fraudulent ad views. You are given a video of the ad being watched, as well as mouse and keyboard activity during the ad view. Based on this information, you will determine whether the ad view was likely fraudulent or not.\n\nHere is the video of the ad view: {{media url=adViewVideoDataUri}}\nHere is the mouse activity during the ad view: {{{mouseActivityJson}}}\nHere is the keyboard activity during the ad view: {{{keyboardActivityJson}}}\nHere is the metadata about the ad being viewed: {{{adMetadataJson}}}\n`,\n});\n"],"names":[],"mappings":";;;;;AAEA;;;;;;;;CAQC,GAED;AACA;AAAA;;;;;;AAEA,MAAM,iCAAiC,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC9C,oBAAoB,uIAAA,CAAA,IAAC,CAClB,MAAM,GACN,QAAQ,CACP;IAEJ,mBAAmB,uIAAA,CAAA,IAAC,CACjB,MAAM,GACN,QAAQ,CACP;IAEJ,sBAAsB,uIAAA,CAAA,IAAC,CACpB,MAAM,GACN,QAAQ,CACP;IAEJ,gBAAgB,uIAAA,CAAA,IAAC,CACd,MAAM,GACN,QAAQ,CAAC;AACd;AAKA,MAAM,kCAAkC,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC/C,eAAe,uIAAA,CAAA,IAAC,CACb,OAAO,GACP,QAAQ,CAAC;IACZ,QAAQ,uIAAA,CAAA,IAAC,CACN,MAAM,GACN,QAAQ,CACP,2EAED,QAAQ;AACb;AAKO,eAAe,oBACpB,KAA+B;IAE/B,OAAO,wBAAwB;AACjC;AAEA,MAAM,0BAA0B,mHAAA,CAAA,KAAE,CAAC,UAAU,CAC3C;IACE,MAAM;IACN,aAAa;IACb,cAAc;AAChB,GACA,OAAM;IACJ,yFAAyF;IACzF,qEAAqE;IACrE,sEAAsE;IACtE,wCAAwC;IACxC,kBAAkB;IAClB,OAAO;QACL,eAAe;IACjB;AACF;AAGF,2DAA2D;AAC3D,uFAAuF;AACvF,MAAM,SAAS,mHAAA,CAAA,KAAE,CAAC,YAAY,CAAC;IAC7B,MAAM;IACN,OAAO;QAAC,QAAQ;IAA8B;IAC9C,QAAQ;QAAC,QAAQ;IAA+B;IAChD,QAAQ,CAAC;;;;;;AAMX,CAAC;AACD;;;IArCsB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 321, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/ad/%5Bid%5D/actions.ts"],"sourcesContent":["\"use server\";\n\nimport { detectInvalidAdView, DetectInvalidAdViewInput } from \"@/ai/flows/detect-invalid-ad-views\";\nimport { Ad } from \"@/lib/ads\";\n\nexport async function verifyAdView(ad: Ad) {\n  try {\n    // In a real application, you would capture screen recording and user activity.\n    // For this prototype, we'll use mock data.\n    const mockInput: DetectInvalidAdViewInput = {\n      adViewVideoDataUri: 'data:video/webm;base64,GkXfo0AgQoaBAUL3gQFC8oEEQvOBCEKCQAR3ZWJtQoeBAkKFgQIYU4BnQI0VSalmQCgq17FAAw9A',\n      mouseActivityJson: '[]',\n      keyboardActivityJson: '[]',\n      adMetadataJson: JSON.stringify({\n        id: ad.id,\n        duration: ad.duration,\n      }),\n    };\n\n    const result = await detectInvalidAdView(mockInput);\n    \n    if (result.isValidAdView) {\n      return { success: true, reward: ad.reward };\n    } else {\n      return { success: false, reason: result.reason || \"Unusual activity detected.\" };\n    }\n\n  } catch (error) {\n    console.error(\"Error verifying ad view:\", error);\n    return { success: false, reason: \"An unexpected error occurred during verification.\" };\n  }\n}\n"],"names":[],"mappings":";;;;;AAEA;;;;;AAGO,eAAe,aAAa,EAAM;IACvC,IAAI;QACF,+EAA+E;QAC/E,2CAA2C;QAC3C,MAAM,YAAsC;YAC1C,oBAAoB;YACpB,mBAAmB;YACnB,sBAAsB;YACtB,gBAAgB,KAAK,SAAS,CAAC;gBAC7B,IAAI,GAAG,EAAE;gBACT,UAAU,GAAG,QAAQ;YACvB;QACF;QAEA,MAAM,SAAS,MAAM,CAAA,GAAA,sJAAA,CAAA,sBAAmB,AAAD,EAAE;QAEzC,IAAI,OAAO,aAAa,EAAE;YACxB,OAAO;gBAAE,SAAS;gBAAM,QAAQ,GAAG,MAAM;YAAC;QAC5C,OAAO;YACL,OAAO;gBAAE,SAAS;gBAAO,QAAQ,OAAO,MAAM,IAAI;YAA6B;QACjF;IAEF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,OAAO;YAAE,SAAS;YAAO,QAAQ;QAAoD;IACvF;AACF;;;IA1BsB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 375, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/.next-internal/server/app/%28app%29/ad/%5Bid%5D/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {verifyAdView as '406aa223dd0704aa895b6be28a4fc84de6841fc2ee'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 439, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/ad/%5Bid%5D/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/(app)/ad/[id]/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/(app)/ad/[id]/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAkS,GAC/T,gEACA","debugId":null}},
    {"offset": {"line": 453, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/ad/%5Bid%5D/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/(app)/ad/[id]/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/(app)/ad/[id]/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA8Q,GAC3S,4CACA","debugId":null}},
    {"offset": {"line": 467, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}}]
}